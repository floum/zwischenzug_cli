#!/usr/bin/env ruby

require 'thor'
require 'zwischenzug_cli'
require 'stockfish'

module ZwischenzugCLI
  class CLI < Thor
    desc 'puzzle FEN', 'determines if FEN may be a puzzle'
    def puzzle(fen)
      p Analysis.run(fen)
    end

    desc 'fetch ID', 'fetch puzzle ID from lichess.org'
    option :format, default: 'yaml'
    def fetch(id)
      Lichess.fetch(id, options)
    end
  end
end

ZwischenzugCLI::CLI.start(ARGV)
